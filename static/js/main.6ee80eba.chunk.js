(this.webpackJsonpaplicacao=this.webpackJsonpaplicacao||[]).push([[0],{14:function(e,t,a){e.exports=a(26)},19:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getClientes",(function(){return C})),a.d(n,"addCliente",(function(){return j})),a.d(n,"updateCliente",(function(){return y})),a.d(n,"removeCliente",(function(){return N})),a.d(n,"setClienteParaAlterar",(function(){return g})),a.d(n,"setOrdenacao",(function(){return A})),a.d(n,"setPesquisa",(function(){return T}));var r=a(0),l=a.n(r),c=a(8),o=a.n(c),i=(a(19),a(2)),u=a(3),s=a(5),m=a(4),p=a(6),E=a(7),d=a(1),f=Object(E.b)({clientes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ordenacao:"a-z"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENTES":return Object(d.a)(Object(d.a)({},e),{},{clientes:t.data});case"ADD_CLIENTE":return Object(d.a)(Object(d.a)({},e),{},{clientes:e.clientes.concat([t.cliente])});case"UPDATE_CLIENTE":return Object(d.a)(Object(d.a)({},e),{},{cliente:null,clientes:e.clientes.map((function(e){return e.id===t.cliente.id?t.cliente:e}))});case"REMOVE_CLIENTE":return Object(d.a)(Object(d.a)({},e),{},{clientes:e.clientes.filter((function(e){return e.id!==t.id}))});case"SET_ORDENACAO":return Object(d.a)(Object(d.a)({},e),{},{ordenacao:t.ordenacao});case"SET_PESQUISA":return Object(d.a)(Object(d.a)({},e),{},{ordenacao:t.pesquisa});case"SET_CLIENTE":return Object(d.a)(Object(d.a)({},e),{},{cliente:t.cliente});default:return e}}}),b=Object(E.c)(f),v=function(){return(new Date).getTime()},h=function(e){var t=Math.floor(1e5*Math.random()+1e5),a=v(),n=v();return Object(d.a)(Object(d.a)({},e),{},{id:t,criadoEm:a,atualizadoEm:n})},O=[{id:1,nome:"Jo\xe3o",cpf:"111.222.33-45",telefone:"1111-4444",email:"salim@hotmail.com",criadoEm:v(),atualizadoEm:v()}],C=function(){return{type:"GET_CLIENTES",data:O}},j=function(e){return{type:"ADD_CLIENTE",cliente:h(e)}},y=function(e,t){return{type:"UPDATE_CLIENTE",cliente:Object(d.a)(Object(d.a)({id:e},t),{},{atualizadoEm:v()})}},N=function(e){return{type:"REMOVE_CLIENTE",id:e}},g=function(e){return{type:"SET_CLIENTE",cliente:e}},A=function(e){return{type:"SET_ORDENACAO",ordenacao:e.target.value}},T=function(e){return{type:"SET_PESQUISA",pesquisa:e.target.value}},S=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.ordenacao;return l.a.createElement("div",{className:"Ordenacao"},l.a.createElement("label",null,"Ordenar por"),l.a.createElement("select",{value:e,onChange:this.props.setOrdenacao},l.a.createElement("option",{value:"a-z"},"Alfebetica de A-Z"),l.a.createElement("option",{value:"z-a"},"Alfebetica de Z-A"),l.a.createElement("option",{value:"criacao"},"Data de cria\xe7\xe3o")))}}]),a}(l.a.Component),k=Object(p.b)((function(e){return{ordenacao:e.clientes.ordenacao}}),n)(S),I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pesquisa,a=e.setPesquisa;return l.a.createElement("div",{className:"Pesquisa"},l.a.createElement("input",{value:t||"",onChange:a,placeholder:"Pesquise aqui..."}))}}]),a}(l.a.Component),q=Object(p.b)((function(e){return{pesquisa:e.clientes.pesquisa}}),n)(I),D=function(e){return l.a.createElement("div",{className:"Input"},e.label&&l.a.createElement("label",null,e.label),l.a.createElement("input",{value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type||"text"}),e.erro&&l.a.createElement("small",null,e.erro))},F={form:{nome:"",email:"",telefone:"",cpf:""},erros:{},mostrarForm:!1},L=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state=F,e.mostrarForm=function(){e.setState({mostrarForm:!e.state.mostrarForm})},e.validar=function(){var t=e.state.form,a={};return["nome","telefone","cpf","email"].forEach((function(e){t[e]||(a[e]="Digite o "+e)})),e.setState({erros:a}),0===Object.keys(a).length},e.onChange=function(t,a){var n=e.state.form;n[t]=a.target.value,e.setState({form:n},(function(){e.validar()}))},e.handleSubmit=function(){if(!e.validar())return null;var t=e.state.form,a=e.props.cliente;a?e.props.updateCliente(a.id,t):e.props.addCliente(t),e.setState(F)},e}return Object(u.a)(a,[{key:"componentWillUpdate",value:function(e){!this.props.cliente&&e.cliente&&this.setState({form:e.cliente,erros:{},mostrarForm:!0}),this.props.cliente&&!e.cliente&&this.setState(F)}},{key:"renderFormulario",value:function(){var e=this,t=this.state,a=t.form,n=t.erros;return l.a.createElement("div",{className:"Formulario"},l.a.createElement("div",null,l.a.createElement(D,{value:a.nome,onChange:function(t){return e.onChange("nome",t)},label:"Nome",erro:n.nome}),l.a.createElement(D,{value:a.telefone,onChange:function(t){return e.onChange("telefone",t)},label:"Telefone",erro:n.telefone}),l.a.createElement(D,{value:a.cpf,onChange:function(t){return e.onChange("cpf",t)},label:"CPF",erro:n.cpf}),l.a.createElement(D,{value:a.email,onChange:function(t){return e.onChange("email",t)},label:"Email",type:"email",erro:n.email}),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.handleSubmit,className:"botao botao-verde"},"Salvar"),l.a.createElement("button",{onClick:this.mostrarForm,className:"botao botao-vermelho"},"Cancelar"))))}},{key:"renderBotao",value:function(){return l.a.createElement("div",{className:"Formulario"},l.a.createElement("button",{onClick:this.mostrarForm,className:"botao botao-azul"},"+ ADICIONAR CLIENTE"))}},{key:"render",value:function(){return this.state.mostrarForm?this.renderFormulario():this.renderBotao()}}]),a}(l.a.Component),_=Object(p.b)((function(e){return{cliente:e.clientes.cliente}}),n)(L),P=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={iniciouExclusao:!1},e.excluirCliente=function(){if(!e.state.iniciouExclusao)return e.setState({iniciouExclusao:!0});e.props.removeCliente(e.props.cliente.id)},e.alterarCliente=function(){e.props.setClienteParaAlterar(e.props.cliente)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.cliente,t=this.state.iniciouExclusao;return l.a.createElement("tr",null,l.a.createElement("td",null,e.nome),l.a.createElement("td",null,e.telefone),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.cpf),l.a.createElement("td",{onClick:this.alterarCliente,className:"botao botao-laranja"},"Alterar"),l.a.createElement("td",{onClick:this.excluirCliente,className:"botao botao-vermelho"},t?"Certeza?":"Excluir"))}}]),a}(l.a.Component),z=Object(p.b)(null,n)(P),x=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).ordenacao=function(t,a){var n=e.props.ordenacao;return"a-z"===n?t.nome.localeCompare(a.nome):"z-a"===n?-1*t.nome.localeCompare(a.nome):"criacao"===n?new Date(t.criadoEm)-new Date(a.criadoEm):void 0},e.pesquisa=function(t){var a=t.nome,n=t.telefone,r=t.email,l=t.cpf,c=e.props.pesquisa;return!c||[a,n,r,l].join(";").includes(c)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getClientes()}},{key:"render",value:function(){var e=this.props.clientes;return l.a.createElement("div",{className:"ListaClientes"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Telefone"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"CPF"))),l.a.createElement("tbody",null,(e||[]).filter(this.pesquisa).map((function(e,t){return l.a.createElement(z,{cliente:e,key:e.id})})))))}}]),a}(l.a.Component),w=Object(p.b)((function(e){return{clientes:e.clientes.clientes,ordenacao:e.clientes.ordenacao,pesquisa:e.clientes.pesquisa}}),n)(x),M=function(){return l.a.createElement("div",{className:"Opcoes flex horizontal"},l.a.createElement("div",null,l.a.createElement(q,null)),l.a.createElement("div",null,l.a.createElement(k,null)))},U=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Listagem"},l.a.createElement("div",{className:"Header"},l.a.createElement("h2",null,"Lista de Clientes")),l.a.createElement("hr",null),l.a.createElement(_,null),l.a.createElement("br",null),l.a.createElement(M,null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement(w,null))}}]),a}(l.a.Component),R=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props;e.valor,e.adicionarUm;return l.a.createElement("div",{className:"Aplicacao"},l.a.createElement(U,null))}}]),a}(l.a.Component),B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{store:b},l.a.createElement("div",{className:"App"},l.a.createElement(R,null)))}}]),a}(r.Component);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6ee80eba.chunk.js.map